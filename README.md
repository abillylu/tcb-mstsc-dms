# TCB - MSTSC DMS

## Document Management System for both Thor Custom's Brokerage and Mighty Star Trucking Services Company

___

## System Preview

### Login Page

![Login Page](./images/tcb-login.png "Login Page" )

___

### Create Customers

![Create Customer](./images/tcb-create-customer-1.png  "Create Customer")

### Create Containers

![Create Container 1](./images/tcb-create-container-1.png  "Create Container 1")

___

![Create Container 2](./images/tcb-create-container-2.png  "Create Container 2")

___

After creating any new resource (Customers, Containers, Statement of Accounts, or Billing Statements), a flash message is always displayed

![Create Container 3](./images/tcb-create-container-3.png  "Create Container 3")

___

### Create Statement of Accounts

![Create Statement of Account 1](./images/tcb-create-soa-1.png  "Create Statement of Account 1")
___

The *Containers* field is a *multiselect*, and users can easily search containers by typing the first few letters of the container. When selected, it will be part of the list of containers on the right side of the form, and users should confirm these containers by checking the check box. Every Statement of Account should always have a list of containers (One or more).

![Create Statement of Account 2](./images/tcb-create-soa-2.png  "Create Statement of Account 2")
___

![Create Statement of Account 3](./images/tcb-create-soa-3.png  "Create Statement of Account 3")

___

### Edit Statement of Accounts
Statement of Accounts created within the day are the only Statement of Accounts that can be edited. A flash message is also shown to inform the user.

![Edit Statement of Account 1](./images/tcb-edit-soa-1.png  "Edit Statement of Account 1")

___

![Edit Statement of Account 2](./images/tcb-edit-soa-2.png  "Edit Statement of Account 2")

___

SOA **924** is the only option because it was created within the day. Aside from the restriction that a Statement of Account can only be edited within the day it was created, if a Statement of Account is already linked to a Billing Statement, it can no longer be edited.

![Edit Statement of Account 3](./images/tcb-edit-soa-3.png  "Edit Statement of Account 3")

___

Editing a Statement of Account shares the same User Interface when creating one.

![Edit Statement of Account 4](./images/tcb-edit-soa-4.png  "Edit Statement of Account 4")

___

![Edit Statement of Account 5](./images/tcb-edit-soa-5.png  "Edit Statement of Account 5")

___

### View Statement of Accounts

After creating a Statement of Account, all statement of accounts can be viewed here. Also, **SOA 924** has been updated as seen below after editing it as seen from the previous screenshot.

![View Statement of Account 1](./images/tcb-view-soa-1.png  "View Statement of Account 1")

___

An e-signature can also be affixed and is reflected to the PDF when clicking **DOWNLOAD SOA**.

![View Statement of Account 2](./images/tcb-view-soa-2.png  "View Statement of Account 2")
___

Sample Statement of Account PDF generated by the system

![View Statement of Account 3](./images/tcb-view-soa-3.png  "View Statement of Account 3")

___

### Create Billing Statements

After creating a Statement of Account, a Billing Statement can easily be created. The *Select SOA* field is a dropdown, and the only Statement of Accounts that can be selected are those that have not yet been linked to a Billing Statement.

![Create Billing Statement 1](./images/tcb-create-bs-1.png  "Create Billing Statement 1")

___

![Create Billing Statement 2](./images/tcb-create-bs-2.png  "Create Billing Statement 2")

___

![Create Billing Statement 3](./images/tcb-create-bs-3.png  "Create Billing Statement 3")

___

### View Billing Statements

An overview of all Billing Statements can be viewed, and a PDF document is easily generated when clicking the **DOWNLOAD BILLING STATEMENT** button. 

![View Billing Statement 1](./images/tcb-view-bs-1.png  "View Billing Statement 1")

___

Continuation...

![View Billing Statement 2](./images/tcb-view-bs-2.png  "View Billing Statement 2")

___

Sample Billing Statement PDF generated by the system

![View Billing Statement 3](./images/tcb-view-bs-3.png  "View Billing Statement 3")

___

### View Backlogs
The main problem of this company is the number of disorganized documents stored in a computer and the trouble of finding each when needed. This section of the system features all the Billing Statements and Statement of Accounts of the company from 2020 to early 2025, before this system was created. The Backlogs page shows all the information about every Billing Statement linked with the corresponding Statement of Account throughout the years that they were able to properly store. The user can easily search a given container, and given the container, shows all Billing Statements associated with that container, which the company had a hard time finding before this system was created and tailored for them. The solution to this problem is shown in the *data-processing* folder.

![View Backlogs 1](./images/tcb-view-backlogs-1.png  "View Backlogs 1")

___

![View Backlogs 2](./images/tcb-view-backlogs-2.png  "View Backlogs 2")

___

## Technology Stack

**Programming Languages** → [TypeScript](https://www.typescriptlang.org), [Python](https://www.python.org)

**Data Processing** → Python + [Pandas](https://pandas.pydata.org), [Numpy](https://numpy.org)

**Desktop Application Framework** → [Electron](https://www.electronjs.org)

**Frontend** → TypeScript + [React](https://react.dev), [Material UI](https://mui.com/material-ui), [Day.js](https://day.js.org)

**Backend** → TypeScript + [Express](https://expressjs.com), [pdfmake](https://pdfmake.github.io/docs/0.3), [PostgreSQL](https://www.postgresql.org), [Prisma](https://www.prisma.io), [Supabase](https://supabase.com), [Vercel](https://vercel.com) 

## Setting up the data processing project
Move to the *data-processing* folder and do:
```bash
python -m venv env
pip install -r requirements.txt
```

#### Activate the environment and install the required packages:
```bash
python -m venv env
pip install -r requirements.txt
```

*This Python project uses excel and pdf files from the company. Unfortunately, these sample files couldn't be provided since these are billing statements and statement of accounts. However, the solution can be viewed on how these files were organized. The output of this solution can be viewed in* **backlogs.json** *or in* **backlogs.ts** (***electron → src → ui → data → backlogs.ts***) *to see how it's used in the application.*

## Setting up the frontend (Electron, React)
Move to the *electron* folder and do:
```bash
npm install
```

#### Run the frontend in development:
```bash
npm run dev
```

#### Building the project (Windows / Mac / Linux)
Use the proper command based on your device's Operating System:

```bash
npm run dist:mac
npm run dist:win
npm dist:linux
```

## Setting up the backend (Express, Prisma, Supabase)
Move to the *rest-api* folder and do:

```bash
npm install
npm run generate
npm run migrate
npm run seed
```
This project uses both **Supabase** and its ***realtime*** feature. To test this out, a new Supabase project should be created and tables should be migrated to that project:

#### Run the backend in development:
```bash
npm run start
```